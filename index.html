<!doctype html>  
<html lang="es">  
<head>  
  <meta charset="utf-8" />  
  <meta name="viewport" content="width=device-width,initial-scale=1" />  
  <title>Asistente IA</title>  
  <style>  
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#94a3b8;--text:#e6eef6}  
    *{box-sizing:border-box}  
    body{margin:0;height:100%;font-family:Inter,ui-sans-serif,system-ui;  
      background:linear-gradient(180deg,#071325 0%,#07162b 60%);  
      color:var(--text);display:flex;align-items:center;justify-content:center;padding:24px}  
    .app{width:100%;max-width:920px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.12));  
      border-radius:14px;box-shadow:0 10px 30px rgba(2,6,23,0.6);overflow:hidden}  
    header{display:flex;gap:16px;align-items:center;padding:18px 20px;border-bottom:1px solid rgba(255,255,255,0.03)}  
    .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#4f46e5);  
      display:flex;align-items:center;justify-content:center;font-weight:700}  
    .title{font-size:18px;font-weight:700}.subtitle{font-size:12px;color:var(--muted)}  
    main{display:flex;gap:20px;padding:20px}.left{flex:1;min-height:360px;display:flex;flex-direction:column}  
    .chat{flex:1;overflow-y:auto;padding:10px;background:var(--card);border-radius:10px;margin-bottom:12px}  
    .message{margin-bottom:10px;position:relative;padding-right:30px}  
    .user{color:var(--accent);font-weight:600}  
    .copy-btn{position:absolute;right:5px;top:5px;background:transparent;border:none;cursor:pointer;  
      color:var(--muted);font-size:14px;transition:0.2s}  
    .copy-btn:hover{color:var(--accent)}  
    .input-box{display:flex;gap:10px}.input-box input{flex:1;padding:10px;border-radius:8px;  
      border:1px solid rgba(255,255,255,0.08);background:#111827;color:var(--text)}  
    .input-box button{padding:10px 16px;border:none;border-radius:8px;background:var(--accent);  
      color:#fff;font-weight:600;cursor:pointer;transition:0.2s}  
    .input-box button:hover{background:#059cb5}  
  </style>  
</head>  
<body>  
  <div class="app">  
    <header>  
      <div class="logo">IA</div>  
      <div><div class="title">Asistente IA</div><div class="subtitle">Conexi√≥n real a OpenAI</div></div>  
    </header>  
    <main>  
      <div class="left">  
        <div class="chat" id="chatBox">  
          <div class="message"><span class="user">IA:</span> ¬°Hola! Soy tu asistente real con OpenAI. ¬øEn qu√© puedo ayudarte?  
            <button class="copy-btn" onclick="copyText(this)">üìã</button>  
          </div>  
        </div>  
        <div class="input-box">  
          <input type="text" id="userInput" placeholder="Escribe un mensaje..." />  
          <button onclick="sendMessage()">Enviar</button>  
        </div>  
      </div>  
    </main>  
  </div>  
  
  <script>  
    const API_KEY = "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"; // ‚ö†Ô∏è Reemplaza con tu API key  
  
    async function sendMessage() {  
      const input = document.getElementById('userInput');  
      const msg = input.value.trim();  
      if (!msg) return;  
  
      const chat = document.getElementById('chatBox');  
      const userMsg = document.createElement('div');  
      userMsg.className = 'message';  
      userMsg.innerHTML = '<span class="user">T√∫:</span> ' + msg;  
      chat.appendChild(userMsg);  
      input.value = '';  
      chat.scrollTop = chat.scrollHeight;  
  
      try {  
        const response = await fetch("https://api.openai.com/v1/chat/completions", {  
          method: "POST",  
          headers: {  
            "Content-Type": "application/json",  
            "Authorization": `Bearer ${API_KEY}`  
          },  
          body: JSON.stringify({  
            model: "gpt-4o-mini",  
            messages: [{ role: "user", content: msg }]  
          })  
        });  
        const data = await response.json();  
        const reply = data.choices?.[0]?.message?.content || "Error en la respuesta";  
  
        const iaMsg = document.createElement('div');  
        iaMsg.className = 'message';  
        iaMsg.innerHTML = '<span class="user">IA:</span> ' + reply +  
          ' <button class="copy-btn" onclick="copyText(this)">üìã</button>';  
        chat.appendChild(iaMsg);  
        chat.scrollTop = chat.scrollHeight;  
      } catch (err) {  
        const iaMsg = document.createElement('div');  
        iaMsg.className = 'message';  
        iaMsg.innerHTML = '<span class="user">IA:</span> Error de conexi√≥n con OpenAI. ' +  
          '<button class="copy-btn" onclick="copyText(this)">üìã</button>';  
        chat.appendChild(iaMsg);  
      }  
    }  
  
    function copyText(btn) {  
      const text = btn.parentElement.innerText.replace("üìã","").trim();  
      navigator.clipboard.writeText(text).then(() => {  
        btn.innerText = "‚úÖ";  
        setTimeout(()=>btn.innerText="üìã",1500);  
      });  
    }  
  </script>  
</body>  
</html>
